import{ah as S,aJ as C,ai as U,w as z,aa as I,at as f,ae as i,ab as K,_ as R,as as G,ad as L,af as M}from"./router-3749f69b.js";import{_ as T}from"./InputNumber-e027e32d.js";import{r as h,a as b,e as F,a5 as J,a6 as t,g as o,ah as d,w as c,a4 as O,L as u,h as l}from"./plugin-vueexport-helper-542923d8.js";import{b as Q,a as $}from"./FormItem-3d7bec99.js";const j={class:"PDcontain"},H={class:"menu","collapse-mode":"width"},W={class:"PDcontent"},X={class:"PDimg"},Y=["src"],Z=["src"],tt=["src"],et=["src"],nt={class:"PDinfo"},st=t("hr",null,null,-1),at=t("br",null,null,-1),ot=t("br",null,null,-1),lt=t("br",null,null,-1),rt={class:"PDcart"},it=t("div",{class:"PDtext"},[t("h4",null,"Sunday下單注意事項"),u(" *基於衛生條件耳飾商品售出不予退換 "),t("br"),u(" *手工精細製作作品為極度類似款，雖為同款但會有細微的不同之處也是手工的魅力。 *樹脂(UV膠)材質製作難免有些許氣泡產生，不列入瑕疵範圍，可接受者方可下標。 "),t("br"),u(" *每一付商品皆會經過強化處理，但仍屬於脆弱商品，配戴貼耳商品時，請以指腹輕推及可。 "),t("br"),u(" *手工製作商品，皆為下單後開始製作，依不同的款式製作天數有所不同，約需3-5個工作天，願意等待的你請下標。 ")],-1),pt={__name:"ProductView",setup(ut){function w(a){return()=>l(L,null,{default:()=>l(a)})}const m=S(),y=h(null),q=[{label:()=>l(i,{to:{name:"newArrival"}},{default:()=>"NewArrival　｜"}),key:"NewArrival",icon:w(M)},{label:()=>l(i,{to:{name:"newEarrings"}},{default:()=>"耳針系列"}),key:"earrings"},{label:()=>l(i,{to:{name:"newArrival"}},{default:()=>"耳夾系列"}),key:"clipEarrings"},{label:()=>l(i,{to:{name:"newArrival"}},{default:()=>"口罩鍊系列"}),key:"necklace"},{label:()=>l(i,{to:{name:"newArrival"}},{default:()=>"客製禮物"}),key:"customizedGift"}],B=C(),k=U(),A=z(),{editCart:x}=A,g=h(null),r=b({quantity:0}),D={quantity:[{required:!0,type:"number",validator:P,trigger:["blur","input"],message:"選購數量不可大於庫存"}]};function P(a,n){return n<0?new Error("數量需 > 0"):e.quantity>=n}const e=b({_id:"",name:"",description:"",price:0,image:"",sell:!0,category:""}),v=()=>{var a;(a=g.value)==null||a.validate(n=>{n?m.error("選購數量不得 小於 0 或 大於庫存"):(x({_id:e._id,quantity:r.quantity}),m.success(`${r.quantity}件商品已加入購物車`))})};return(async()=>{var a,n;try{const{data:s}=await I.get("/products/"+B.params.id);e._id=s.result._id,e.name=s.result.name,e.description=s.result.description,e.image=s.result.image,e.price=s.result.price,e.quantity=s.result.quantity,e.sell=s.result.sell,e.category=s.result.category,document.title="NewArrival | "+e.name}catch(s){m.error(((n=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:n.message)||"無此商品"),k.go(-1)}})(),(a,n)=>{const s=K,_=R,N=T,V=$,E=Q;return F(),J("div",j,[t("div",H,[o(s,{value:y.value,"onUpdate:value":n[0]||(n[0]=p=>y.value=p),mode:"horizontal",options:q,"collapsed-width":902},null,8,["value"])]),t("div",W,[t("div",X,[t("img",{src:e.image[0]},null,8,Y),t("img",{src:e.image[1]},null,8,Z),t("img",{src:e.image[2]},null,8,tt),t("img",{src:e.image[3]},null,8,et)]),t("div",nt,[t("h2",null,d(e.name),1),t("h3",null,"NT."+d(e.price),1),st,at,o(_,{class:"colorBtn",color:"#F4BBBB"}),o(_,{class:"colorBtn",color:"#D78562"}),ot,t("pre",null,d(e.description),1),t("p",null,"目前商品 "+d(e.quantity-r.quantity)+" 個",1),lt,t("div",rt,[o(E,{ref_key:"valid",ref:g,model:r,rules:D,onSubmit:f(v,["prevent"])},{default:c(()=>[o(V,{path:"quantity"},{default:c(()=>[o(N,{value:r.quantity,"onUpdate:value":n[1]||(n[1]=p=>r.quantity=p),type:"number",placeholder:" 0 ","button-placement":"both",class:"cartBtnA",onKeydown:n[2]||(n[2]=G(f(()=>{},["prevent"]),["enter"])),min:0,max:e.quantity},null,8,["value","max"])]),_:1})]),_:1},8,["model","onSubmit"]),o(_,{class:"cartBtn",color:"#A45754ED","attr-type":"submit",onClick:v},{default:c(()=>[u("加入購物車")]),_:1}),o(O(i),{to:"/customizedGift/"+e._id},{default:c(()=>[o(_,{color:"#CA9E",class:"cartBtn2"},{default:c(()=>[u("客製化禮物")]),_:1})]),_:1},8,["to"])]),it])])])}}};export{pt as default};
